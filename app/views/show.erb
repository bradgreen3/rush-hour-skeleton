<div id="sources">
  <div class='col-md-12 navbar navbar-default navbar-static-top navbar-inverse'>
    <a href='/' class='navbar-brand'>Rush Hour</a>
    <ul class='nav navbar-nav navbar-right'>
      <li><a href = "https://www.youtube.com/watch?v=ZFq_TFyhzmo">Full Movie</a></li>
      <li><a href = "https://www.redbubble.com/shop/jackie+chan">Store</a></li>
      <li class='dropwdown'>
        <a href = '#' class='dropdown-toggle' data-toggle='dropdown'>Events
        <span class="caret"></span></a>
        <ul class='dropdown-menu'>
          <% @events.each do |event| %>
            <li><a href="/sources/<%= @identifier %>"><%= client.identifier %></a></li>
          <% end %>
        </ul>
      </li>
    </ul>
  </div>
</div>


<h1 class="title"> <%= @client.identifier %></h1>

<% @events.each do |event| %>
  <p><%= event %></p>
<% end %>

<table class="table-center">
  <caption class="back"><a href="/"><<</a></caption>
  <tr>
    <th>Statistic</th>
    <th>Stats</th>
  </tr>
  <tr>
    <td>Average Response Time</td>
    <td><%= @client.average_response_time %></td>
  </tr>
  <tr>
    <td>Max Response Time</td>
    <td><%= @client.max_response_time %></td>
  </tr>
  <tr>
    <td>Min Response Time</td>
    <td><%= @client.min_response_time %></td>
  </tr>
  <tr>
    <td>Most Frequent Request Type</td>
    <td><%= @client.most_frequent_request_type %></td>
  </tr>
  <tr>
    <td>List of Http Verbs</td>
    <td><%= @client.all_request_types.join(", ") %></td>
  </tr>
  <tr>
    <td>Urls from Most Requested to Least</td>
    <td>
    <% @client.urls_descending.each do |urlpath| %>

      <table class="mini-table">
        <tr>
          <td><a href="/sources/<%=@id%>/urls/<%=urlpath.split('/')[-1]%>"><%=urlpath%></a></td>
        </tr>
      </table>
    <% end %>
  </td>
  </tr>
  <tr>
    <td>Web Browswer Breakdown</td>
    <td><%= @client.browser_breakdown.to_a.flatten.join(": ") %></td>
  </tr>
  <tr>
    <td>Operating System Breakdown </td>
    <td><%= @client.os_breakdown.to_a.flatten.join(": ") %></td>
  </tr>
  <tr>
    <td>Screen Resolution </td>
    <td>
      <% @client.resolutions_breakdown.each do |rez| %>
        <table class="mini-table">
          <tr><th>Height</th><th>Width</th><th>Count</th></tr>
          <tr>
            <td><%=rez[0]["height"]%></td>
            <td><%=rez[0]["width"]%></td>
            <td><%=rez[1]%></td>
          </tr>
        </table>
      <% end %>
    </td>
  </tr>
</table>
